{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="icon" href="{% static "images/icon.png" %}">

    <title>Control page</title>
  </head>
  <body>
    {% if request.user.is_authenticated %}
        {{ request.user }} <a href="{% url 'logout' %}">Logout</a>
    {% else %}
        <a href="{% url 'login' %}">Login</a>
    {% endif %}
    <p style="color: red;">
        На данный момент api доступен всем, даже неавторизованным пользователям
    </p>
    <a href="{% url 'account_swagger' %}">
        Account doc
    </a> <br>
    <a href="{% url 'diagnose_swagger' %}">
        Diagnose doc
    </a>
    <br>
    Сгенерировать произвольный данные
    <br>

    {% if request.user.is_admin %}
        <div class="danger-zone" style="
            border: 3px solid red;
            border-radius: 3%;
            height: 500px;
            width: 400px;
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 10px;
            color: red;
            text-align: center;
        ">
        <h3>Danger Zone</h3>
        <p>Не тыкай кнопки, если не разбираешься</p>
            <form action="." method="post">
                {% csrf_token %}
                <button type="submit" name="button" value="DB" style="
                    border: 3px solid red;
                    border-radius: 1%;
                    background-color: linen;
                    color: red;
                    width: 100%;
                    height: 50px;
                    ">
                    DB executor
                </button>
            </form>    
        </div>      
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>
